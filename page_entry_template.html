<!DOCTYPE html>
<html>

<head>
    <title>The Garchive</title>
    <link rel="icon" href="images/garcon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles/style_main.css">
</head>

 <body>
    <!--title section-->
    <p style="text-align: center;">
        <a href="index.html">
        <img src="images/garcon_archivetext_small.png" alt="Homepage">
        </a>

        <br>
        <i>Everything there is to know about this strange specimen!</i>
        <canvas id="titlebar" height="50"></canvas>
        
        <br>
        <div class="search-container">
        <input type="text" id="search" placeholder="Search pages...">
        <button id="searchBtn">Search</button>
        <ul id="results"></ul>
        </div>
        <script src="javascript/search.js" defer></script>
    </p>

    <!--page body-->
    <p>

    <section style="width: 67%; float: left;">

    </section>

    <section style="width: 27%; float: right;">

    </section>

    </p>

 </body>

</html>

<!--SCRIPTS-->

<!--titlebar animate-->
<script>
        const titlebar = document.getElementById("titlebar");
        const ctx = titlebar.getContext("2d");

        const text = "THE GARCHIVE |";
        const spacing = 15; 
        const fontSize = 36;
        const y = 40;
        let x = 0;

        function applyFontSettings() {
            ctx.font = fontSize + "px Gargling-fried";
            ctx.fillStyle = "white";
        }

        function resizeCanvas() {
            titlebar.width = window.innerWidth - 16;
            applyFontSettings();
        }

        resizeCanvas();
        window.addEventListener("resize", resizeCanvas);

        function animate() {
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, titlebar.width, titlebar.height);

            ctx.fillStyle = "white";
            const textWidth = ctx.measureText(text).width + spacing;
            const numCopies = Math.ceil(titlebar.width / textWidth) + 1;

            for (let i = 0; i < numCopies; i++) {
                ctx.fillText(text, Math.floor(x + i * textWidth), y);
            }

            x -= 2;
            if (x <= -textWidth) x += textWidth;

            requestAnimationFrame(animate);
        }

        animate();
</script>